@using Data.Entities
@model List<StreetRoad>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    
    <title>Streets</title>
</head>
<body>
    <div class="container container-fluid">
        <div class="row justify-content-md-center">
            <div class="col-md-8 justify-content-md-center">
                @using (Ajax.BeginForm("SortStreets", null, new AjaxOptions { UpdateTargetId = "sortResult" }, new { id = "sortStreet" }))
                {
                    var selected = false;

                    foreach (var category in ViewBag.Category)
                    {
                        if ((string)category == "All")
                        {
                            selected = true;
                        }
                        else
                        {
                            selected = false;
                        }

                        <div class="form-check form-check-inline">
                            @Html.RadioButton("category", (string)category, selected, new { onchange = "ChangeCategory()", @class = "form-check-input" })
                            @Html.Label((string)category, new { @class = "form-check-label" })
                        </div>
                    }
                }
            </div>
            <div class="col-md">
                @using (Ajax.BeginForm("SearchStreet", new { strs = new List<StreetRoad> { new StreetRoad() { Id = 1000, StreetName = "123" } } },
                                         new AjaxOptions { UpdateTargetId = "searchResult" },
                                         new { id = "streetInfo" }))
                {
                    <form class="form-inline my-2 my-lg-0">
                        <input class="form-control mr-sm-2" type="search" placeholder="Enter street"
                               aria-label="Search" name="streetName"
                               onkeyup="$('#streetInfo').trigger('submit')" }>
                    </form>
                }
                <br />
            </div>
        </div>

        <br />
        <div id="sortResult"></div>
    </div>
    <script src="~/Scripts/jquery-3.5.1.min.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            ChangeCategory();
            //SelectAll();
        });

        function ChangeCategory() {
            $('#sortStreet').trigger('submit');
        }

        //function SelectAll() {
        //    $('#selAll').change(function () {
        //        if ($(this).is(':checked')) {
        //            $('#select input:checkbox').prop('checked', true);
        //        }
        //        else {
        //            $('#select input:checkbox').prop('checked', false);
        //        }
        //    });

        //    console.log("good");
        //}
    </script>
</body>
</html>